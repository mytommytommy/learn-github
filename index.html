<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Valentine's Day ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Itim&family=Mali:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #ff6b81; 
            --success-color: #2ed573; 
            --bg-color: #fff0f3;
            --text-color: #5c2a3d;
        }

        body {
            margin: 0; padding: 0;
            font-family: 'Mali', cursive;
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
            text-align: center;
            -webkit-tap-highlight-color: transparent;
        }

        header {
            padding: 40px 15px;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            border-bottom-left-radius: 40px;
            border-bottom-right-radius: 40px;
            box-shadow: 0 8px 15px rgba(255, 107, 129, 0.2);
        }

        h1 { font-family: 'Itim', cursive; font-size: 2.2rem; color: #fff; margin: 0; animation: pulse 2s infinite; }
        header p { font-size: 0.9rem; margin-top: 10px; }

        .gift-box {
            font-size: 4rem; cursor: pointer;
            transition: transform 0.3s;
            display: inline-block; margin: 20px 0;
        }

        .hidden-message {
            display: none; margin: 20px 15px; max-width: 90%;
            background: white; padding: 20px; border-radius: 20px;
            border: 2px dashed var(--primary-color);
            animation: popUp 0.5s ease-out;
            box-sizing: border-box;
        }

        #fun-section { display: none; padding: 15px; }
        
        .meter-container {
            width: 85%; max-width: 300px; height: 35px;
            background-color: #fff; border-radius: 20px;
            margin: 15px auto; overflow: hidden; position: relative;
            border: 2px solid var(--primary-color);
        }
        
        .meter-fill {
            height: 100%; width: 0%;
            background: linear-gradient(90deg, #ff9a9e 0%, #fecfef 100%);
            transition: width 0.1s linear;
        }
        
        .meter-text {
            position: absolute; width: 100%; top: 50%; left: 50%;
            transform: translate(-50%, -50%); font-weight: bold; font-size: 0.9rem;
        }

        .btn {
            color: white; border: none; padding: 10px 25px;
            font-size: 1.1rem; border-radius: 50px;
            cursor: pointer; font-family: 'Mali', cursive;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            outline: none;
        }

        #yesBtn { 
            background-color: var(--success-color); 
            box-shadow: 0 4px 15px rgba(46, 213, 115, 0.4);
            z-index: 1001;
        }
        #noBtn { 
            background-color: var(--primary-color); 
            box-shadow: 0 4px 15px rgba(255, 107, 129, 0.4);
            position: relative; z-index: 1000;
        }

        #valentine-page {
            display: none; position: fixed; top: 0; left: 0;
            width: 100%; height: 100%; background: var(--bg-color);
            z-index: 9999; flex-direction: column;
            justify-content: center; align-items: center;
            padding: 20px; box-sizing: border-box;
        }

        #val-title { font-size: 1.6rem !important; padding: 10px; margin-bottom: 30px; }

        .shatter-piece {
            position: fixed; width: 10px; height: 10px;
            background-color: var(--primary-color);
            border-radius: 2px; pointer-events: none; z-index: 10001;
        }

        .flower-yes {
            background-color: var(--success-color) !important;
            font-size: 1.3rem !important;
            width: 85%;
            max-width: 320px;
            padding: 18px 25px !important;
            box-shadow: 0 0 30px rgba(46, 213, 115, 0.8) !important;
            border: 2px solid rgba(255, 255, 255, 0.3) !important;
            animation: popUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* === ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏∏‡πä‡∏Å‡∏ï‡∏≤‡∏´‡∏°‡∏µ next page === */
        #next-section {
            display: none;
            margin: 30px auto;
            max-width: 280px;
            cursor: pointer;
            animation: popUp 0.8s ease-out;
        }

        #next-section img {
            width: 100%;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(255, 107, 129, 0.35);
            transition: transform 0.3s ease;
        }

        #next-section img:hover {
            transform: scale(1.08) rotate(3deg);
        }

        #next-text {
            font-size: 1.35rem;
            color: var(--primary-color);
            margin-top: 15px;
            font-weight: bold;
        }

        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.03); } }
        @keyframes popUp { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
        
        #btn-container {
            display: flex; flex-direction: row; gap: 15px; 
            align-items: center; justify-content: center; 
            width: 100%; min-height: 250px; position: relative;
        }

        .heart {
            position: fixed;
            color: #ff4757;
            pointer-events: none;
            z-index: 10000;
            animation: floatUp 2s linear forwards;
        }
        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100vh) scale(1.5); opacity: 0; }
        }
    </style>
</head>
<body>

    <header>
        <h1>Happy Valentine's Day üíï</h1>
        <p style="color: white; font-size: 1.3rem; margin-top: 10px;">‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏Ç‡∏≥‡∏≠‡∏¢‡∏π‡πà ‡πÅ‡∏ï‡πà‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡πâ‡∏à‡∏ö‡∏ô‡∏∞</p>
    </header>

    <main>
        <div class="gift-box" id="mainGift" onclick="openGift()">üéÅ</div>
        <p id="giftHint">‡∏Å‡∏î‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏î‡∏π‡∏™‡∏¥‡∏Ñ‡∏£‡∏±‡∏ö üéÅ</p>

        <div id="messageArea" class="hidden-message">
            <h2 style="color: var(--primary-color); font-size: 1.3rem;">‡πÑ‡∏´‡∏ô ‡πÜ ‡∏Å‡πá‡πÄ‡∏™‡∏£‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß...</h2>
            <div id="typewriter" style="text-align: left; line-height: 1.6; font-size: 0.95rem;"></div>
            <button class="btn" style="margin-top:20px; background-color: var(--primary-color); font-size: 0.9rem;" onclick="playMusic()">üéµ ‡∏°‡∏µ‡πÄ‡∏û‡∏•‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞</button>
            <audio id="bgMusic" loop><source src="sea-balance-fix.mp3" type="audio/mpeg"></audio>
        </div>

        <section id="fun-section">
            <h2 style="font-size: 1.2rem;">üß™ ‡∏•‡∏≠‡∏á‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏™‡∏¥</h2>
            <div class="meter-container">
                <div class="meter-fill" id="loveMeter"></div>
                <span class="meter-text" id="meterText">0%</span>
            </div>
            <button class="btn" style="background-color: var(--primary-color); font-size: 1rem;" onclick="measureLove()">‚ú® ‡∏ß‡∏±‡∏î‡πÄ‡∏•‡∏¢! ‚ú®</button>

            <!-- === ‡∏ï‡∏∏‡πä‡∏Å‡∏ï‡∏≤‡∏´‡∏°‡∏µ next page === -->
            <div id="next-section" onclick="goToValentinePage()">
    <img src="dog.jpg">
    <div id="next-text"> ‡πÉ‡∏Å‡∏•‡πâ‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î‡∏ô‡∏∏‡∏á~ üíï
    </div>
</div>
        </section>
    </main>

    <div id="valentine-page">
        <h2 id="val-title">Will you be my Valentine? üåπ</h2>
        <div id="btn-container">
            <button id="yesBtn" class="btn" onclick="celebrateSuccess()">Yes</button>
            <button id="noBtn" class="btn" onclick="handleNo()">No</button>
        </div>
    </div>

    <script>
        let noClickCount = 0;
        const pleadingEmojis = ["‡πÉ‡∏à‡∏£‡πâ‡∏≤‡∏¢‡∏¢‡∏¢ ü•∫", "‡πÑ‡∏°‡πà‡∏ô‡∏∞ üò¢", "‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡∏™‡∏¥ üòÖ", "‡∏Ñ‡πà‡∏≠‡∏¢ ‡πÜ ‡∏Ñ‡∏¥‡∏î ‚ù§Ô∏è", "‡πÑ‡∏î‡πâ‡πÇ‡∏õ‡∏£‡∏î‡∏î‡∏î üò≠"];
        const loveMessage = `You stole my heart the first moment I saw you. \nPlease keep it with you forever! ‚ù§Ô∏è`;

        function openGift() {
            document.getElementById('mainGift').innerHTML = '‚ù§Ô∏è';
            document.getElementById('giftHint').style.display = 'none';
            document.getElementById('messageArea').style.display = 'block';
            typeWriter(loveMessage, 0);
            setTimeout(() => {
                document.getElementById('fun-section').style.display = 'block';
                window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
            }, 3000);
        }

        function typeWriter(text, i) {
            if (i < text.length) {
                document.getElementById('typewriter').innerHTML += text.charAt(i) === '\n' ? '<br>' : text.charAt(i);
                setTimeout(() => typeWriter(text, i + 1), 50);
            }
        }

        function measureLove() {
            const bar = document.getElementById('loveMeter');
            const text = document.getElementById('meterText');
            let count = 0;
            const interval = setInterval(() => {
                count++;
                text.innerText = count + "%";
                bar.style.width = count + "%";
                if(count >= 100) {
                    clearInterval(interval);
                    text.innerText = "100% ‡∏ö‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏°‡πà‡∏ô üòç";
                    
                    // ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏∏‡πä‡∏Å‡∏ï‡∏≤‡∏´‡∏°‡∏µ‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                    setTimeout(() => {
                        document.getElementById('next-section').style.display = 'block';
                    }, 1200);
                }
            }, 30);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà: ‡∏Å‡∏î‡∏ï‡∏∏‡πä‡∏Å‡∏ï‡∏≤‡∏´‡∏°‡∏µ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ yes/no
        function goToValentinePage() {
            document.getElementById('valentine-page').style.display = 'flex';
            // ‡∏ã‡πà‡∏≠‡∏ô‡∏™‡πà‡∏ß‡∏ô fun-section ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
            document.getElementById('fun-section').style.display = 'none';
        }

        function handleNo() {
            noClickCount++;
            const noBtn = document.getElementById('noBtn');
            const yesBtn = document.getElementById('yesBtn');
            const valTitle = document.getElementById('val-title');
            const container = document.getElementById('btn-container');

            if (noClickCount < 6) {
                noBtn.innerText = pleadingEmojis[noClickCount % pleadingEmojis.length];
                const padding = 50;
                const maxX = window.innerWidth - noBtn.offsetWidth - padding;
                const maxY = window.innerHeight - noBtn.offsetHeight - padding;
                const x = Math.max(padding, Math.random() * maxX);
                const y = Math.max(padding, Math.random() * maxY);
                
                noBtn.style.position = 'fixed';
                noBtn.style.left = x + 'px';
                noBtn.style.top = y + 'px';
                
                const scale = Math.min(1 + (noClickCount * 0.3), 2.5);
                yesBtn.style.transform = `scale(${scale})`;
            } else {
                const rect = noBtn.getBoundingClientRect();
                createShatter(rect.left + rect.width/2, rect.top + rect.height/2);
                noBtn.style.display = 'none';
                
                valTitle.innerText = "‡πÄ‡∏™‡∏£‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ä‡∏°‡∏ß‡πà‡∏≤ ‡∏™‡∏ß‡∏¢ ‡∏£‡∏ß‡∏¢ ‡πÅ‡∏û‡∏á‡∏•‡∏∞‡∏•‡πà‡∏∞ 5555"; 
                valTitle.style.fontSize = "1.4rem";
                
                yesBtn.style.position = 'relative';
                yesBtn.style.left = 'auto';
                yesBtn.style.top = 'auto';
                yesBtn.style.transform = 'none';
                yesBtn.classList.add('flower-yes');
                yesBtn.innerText = "‡∏ï‡∏Å‡∏•‡∏á‡πÄ‡∏´‡πâ‡∏≠‡∏∞ üòÖ‚ù§Ô∏è";
                
                const vdayImg = document.createElement('img');
                vdayImg.src = "‡∏™‡∏ß‡∏¢‡πÄ‡∏•‡∏¢.png";
                vdayImg.style.width = "280px";
                vdayImg.style.marginTop = "20px";
                vdayImg.style.borderRadius = "15px";
                vdayImg.style.boxShadow = "0 10px 30px rgba(0,0,0,0.15)";
                vdayImg.style.animation = "popUp 0.8s ease-out";
                
                container.style.flexDirection = "column";
                container.style.height = "auto";
                container.appendChild(vdayImg);
            }
        }

        function createShatter(x, y) {
            for (let i = 0; i < 15; i++) {
                const piece = document.createElement('div');
                piece.className = 'shatter-piece';
                piece.style.left = x + 'px';
                piece.style.top = y + 'px';
                document.body.appendChild(piece);

                const angle = Math.random() * Math.PI * 2;
                const velocity = Math.random() * 10 + 5;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;

                piece.animate([
                    { transform: 'translate(0, 0) rotate(0deg)', opacity: 1 },
                    { transform: `translate(${vx * 15}px, ${vy * 15}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], { duration: 800, easing: 'ease-out' }).onfinish = () => piece.remove();
            }
        }

        function celebrateSuccess() {
            document.getElementById('val-title').innerText = "‡πÄ‡∏¢‡πâ! üòÇ  ‡∏£‡∏π‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏á‡πà‡∏≤‡∏¢‡πÄ‡∏•‡∏¢... ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏¥‡∏î‡∏à‡∏∞‡∏£‡∏±‡∏Å‡∏Å‡∏±‡∏ö‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ç‡∏¥‡∏á             ‡∏Ñ‡∏∏‡∏ì‡∏Å‡πá‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏õ‡∏£‡∏≤‡∏™‡∏≤‡∏ó‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏ò‡∏≠";
            document.getElementById('btn-container').innerHTML = "<div style='font-size: 5rem; animation: popUp 0.5s;'>üéâüè∞üíê</div>";
            setInterval(createHeart, 300);
        }

        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = Math.random() * window.innerWidth + 'px';
            heart.style.top = window.innerHeight + 'px';
            heart.style.fontSize = (Math.random() * 20 + 20) + 'px';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 2000);
        }

        function playMusic() {
            document.getElementById('bgMusic').play().catch(() => {
                alert("‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡πÉ‡∏™‡πà‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏û‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠ sea-balance-fix.mp3 ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö");
            });
        }
    </script>
</body>
</html>